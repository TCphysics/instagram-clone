{"code":"(this.webpackJsonpinstagram_clone=this.webpackJsonpinstagram_clone||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){\"use strict\";a.r(t);var n=a(2),c=a.n(n),s=a(17),o=a.n(s),i=(a(53),a(14)),r=(a(54),a(55),a(95)),l=a(22),u=l.a.initializeApp({apiKey:\"AIzaSyAcsjeJ2lx-3z7kZNyub7vmqNaiVwuzYEk\",authDomain:\"instagram-clone-chentang.firebaseapp.com\",databaseURL:\"https://instagram-clone-chentang-default-rtdb.firebaseio.com\",projectId:\"instagram-clone-chentang\",storageBucket:\"instagram-clone-chentang.appspot.com\",messagingSenderId:\"661521370201\",appId:\"1:661521370201:web:c0dab3853381512153b548\",measurementId:\"G-YG12EBT28Y\"}).firestore(),p=l.a.auth(),d=l.a.storage(),j=a(5);var m=function(e){var t=e.user,a=e.postId,c=e.username,s=e.caption,o=e.imageUrl,p=Object(n.useState)([]),d=Object(i.a)(p,2),m=d[0],b=d[1],h=Object(n.useState)(\"\"),g=Object(i.a)(h,2),f=g[0],O=g[1];return Object(n.useEffect)((function(){var e;return a&&(e=u.collection(\"posts\").doc(a).collection(\"comments\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[a]),Object(j.jsxs)(\"div\",{className:\"post\",children:[Object(j.jsxs)(\"div\",{className:\"post__header\",children:[Object(j.jsx)(r.a,{className:\"post__avatar\",alt:c,src:o}),Object(j.jsx)(\"h3\",{children:c})]}),Object(j.jsx)(\"img\",{className:\"post__image\",src:o,alt:\"\"}),Object(j.jsxs)(\"h4\",{className:\"post__text\",children:[Object(j.jsx)(\"strong\",{children:c}),\" \",s]}),Object(j.jsx)(\"div\",{className:\"post__comments\",children:m.map((function(e){return Object(j.jsxs)(\"p\",{children:[Object(j.jsx)(\"b\",{children:e.username}),\" \",e.text]})}))}),t&&Object(j.jsxs)(\"form\",{className:\"post__commentBox\",children:[Object(j.jsx)(\"input\",{className:\"post__input\",type:\"text\",placeholder:\"Add a comment here\",value:f,onChange:function(e){return O(e.target.value)}}),Object(j.jsx)(\"button\",{disabled:!f,className:\"post__button\",type:\"submit\",onClick:function(e){e.preventDefault(),u.collection(\"posts\").doc(a).collection(\"comments\").add({text:f,username:t.displayName,timestamp:l.a.firestore.FieldValue.serverTimestamp()}),O(\"\")},children:\"Post\"})]})]})},b=a(94),h=a(93);a(65);var g=function(e){var t=e.username,a=Object(n.useState)(null),c=Object(i.a)(a,2),s=c[0],o=c[1],r=Object(n.useState)(\"\"),p=Object(i.a)(r,2),m=(p[0],p[1]),g=Object(n.useState)(0),f=Object(i.a)(g,2),O=f[0],x=f[1],v=Object(n.useState)(\"\"),_=Object(i.a)(v,2),N=_[0],y=_[1];return Object(j.jsxs)(\"div\",{className:\"imageupload\",children:[Object(j.jsx)(\"progress\",{className:\"imageupload__progress\",value:O,max:\"100\"}),Object(j.jsx)(b.a,{placeholder:\"Enter a caption here!\",value:N,onChange:function(e){return y(e.target.value)}}),Object(j.jsxs)(\"div\",{children:[Object(j.jsx)(\"input\",{type:\"file\",onChange:function(e){e.target.files[0]&&o(e.target.files[0])}}),Object(j.jsx)(h.a,{className:\"imageupload__button\",onClick:function(){d.ref(\"images/\".concat(s.name)).put(s).on(\"state_changed\",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);x(t)}),(function(e){alert(e.message)}),(function(){d.ref(\"images\").child(s.name).getDownloadURL().then((function(e){m(e),u.collection(\"posts\").add({caption:N,imageUrl:e,username:t,timestamp:l.a.firestore.FieldValue.serverTimestamp()}),x(0),y(\"\"),o(null)}))}))},children:\"Upload\"})]}),Object(j.jsx)(\"br\",{})]})},f=a(91),O=a(92),x=a(44);function v(){return{height:\"300px\",top:\"\".concat(50,\"%\"),left:\"\".concat(50,\"%\"),transform:\"translate(-\".concat(50,\"%, -\").concat(50,\"%)\")}}var _=Object(f.a)((function(e){return{paper:{position:\"absolute\",width:400,height:200,backgroundColor:e.palette.background.paper,border:\"2px solid #000\",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(){var e=_(),t=Object(n.useState)(v),a=Object(i.a)(t,1)[0],c=Object(n.useState)([]),s=Object(i.a)(c,2),o=s[0],r=s[1],l=Object(n.useState)(!1),d=Object(i.a)(l,2),f=d[0],N=d[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),w=S[0],C=S[1],I=Object(n.useState)(\"\"),k=Object(i.a)(I,2),U=k[0],A=k[1],B=Object(n.useState)(\"\"),E=Object(i.a)(B,2),P=E[0],F=E[1],L=Object(n.useState)(\"\"),T=Object(i.a)(L,2),D=T[0],z=T[1],R=Object(n.useState)(null),G=Object(i.a)(R,2),J=G[0],V=G[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){if(e){if(console.log(e),V(e),!e.displayName)return e.updateProfile({displayName:U})}else V(null)}));return function(){e()}}),[J,U]),Object(n.useEffect)((function(){u.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(j.jsxs)(\"div\",{className:\"app\",children:[Object(j.jsx)(O.a,{open:f,onClose:function(){return N(!1)},children:Object(j.jsx)(\"div\",{style:a,className:e.paper,children:Object(j.jsxs)(\"form\",{className:\"app__login\",children:[Object(j.jsx)(\"center\",{children:Object(j.jsx)(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),Object(j.jsx)(b.a,{placeholder:\"username\",type:\"text\",value:U,onChange:function(e){return A(e.target.value)}}),Object(j.jsx)(b.a,{placeholder:\"email\",type:\"text\",value:P,onChange:function(e){return F(e.target.value)}}),Object(j.jsx)(b.a,{placeholder:\"password\",type:\"password\",value:D,onChange:function(e){return z(e.target.value)}}),Object(j.jsx)(h.a,{type:\"submit\",onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(P,D).then((function(e){e.user.updateProfile({displayname:U})})).catch((function(e){return alert(e.message)})),N(!1)},children:\"sign Up\"})]})})}),Object(j.jsx)(O.a,{open:w,onClose:function(){return C(!1)},children:Object(j.jsx)(\"div\",{style:a,className:e.paper,children:Object(j.jsxs)(\"form\",{className:\"app__login\",children:[Object(j.jsx)(\"center\",{children:Object(j.jsx)(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),Object(j.jsx)(b.a,{placeholder:\"email\",type:\"text\",value:P,onChange:function(e){return F(e.target.value)}}),Object(j.jsx)(b.a,{placeholder:\"password\",type:\"password\",value:D,onChange:function(e){return z(e.target.value)}}),Object(j.jsx)(h.a,{onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(P,D).catch((function(e){return alert(e.message)})),C(!1)},children:\"Sign In\"})]})})}),Object(j.jsxs)(\"div\",{className:\"app__header\",children:[Object(j.jsx)(\"img\",{className:\"app_headerImage\",src:\"https://i.pinimg.com/originals/2f/a2/77/2fa277552b620e8275a07a442ea8cd0f.png\",alt:\"\"}),J?Object(j.jsx)(h.a,{onClick:function(){return p.signOut()},children:\"Logout\"}):Object(j.jsxs)(\"div\",{className:\"app__container\",children:[Object(j.jsx)(h.a,{onClick:function(){return C(!0)},children:\"Sign In\"}),Object(j.jsx)(h.a,{onClick:function(){return N(!0)},children:\"Sign Up\"})]})]}),Object(j.jsxs)(\"div\",{className:\"app__posts\",children:[Object(j.jsx)(\"div\",{className:\"app__postLeft\",children:o.map((function(e){var t=e.id,a=e.post;return Object(j.jsx)(m,{postId:t,user:J,username:a.username,caption:a.caption,imageUrl:a.imageUrl},t)}))}),Object(j.jsx)(\"div\",{className:\"app__postsRight\",children:Object(j.jsx)(x.a,{url:\"https://www.instagram.com/p/B_uf9dmAGPw/\",maxWidth:320,hideCaption:!1,containerTagName:\"div\",protocol:\"\",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),(null===J||void 0===J?void 0:J.displayName)?Object(j.jsx)(g,{username:J.displayName}):Object(j.jsx)(\"h3\",{children:\"Sorry, please login to upload\"})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById(\"root\")),y()}},[[68,1,2]]]);","name":"static/js/main.6567fb95.chunk.js","map":{"version":3,"sources":["static/js/main.6567fb95.chunk.js"],"names":["this","push","53","module","exports","__webpack_require__","54","55","65","68","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","index_esm","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","jsx_runtime","src_Post","_ref","user","postId","username","caption","imageUrl","_useState","Object","_useState2","comments","setComments","_useState3","_useState4","comment","setComment","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","children","alt","src","text","type","placeholder","value","onChange","e","target","disabled","onClick","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","Input","Button","src_imageUpload","image","setImage","setUrl","_useState5","_useState6","progress","setProgress","_useState7","_useState8","setCaption","max","event","files","ref","concat","name","put","on","Math","round","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","then","url","makeStyles","Modal","es","getModalStyle","height","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","src_App","classes","modalStyle","posts","setPosts","open","setOpen","openSignIn","setOpenSignIn","_useState9","_useState10","setUsername","_useState11","_useState12","email","setEmail","_useState13","_useState14","password","setPassword","_useState15","_useState16","setUser","onAuthStateChanged","authUser","console","log","updateProfile","id","post","onClose","style","createUserWithEmailAndPassword","displayname","catch","signInWithEmailAndPassword","signOut","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpinstagram_clone\"] = this[\"webpackJsonpinstagram_clone\"] || []).push([[0],{\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./src/Post.css\nvar Post = __webpack_require__(55);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 3 modules\nvar Avatar = __webpack_require__(95);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 9 modules\nvar index_esm = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/firebase.js\nvar firebaseApp=index_esm[\"a\" /* default */].initializeApp({apiKey:\"AIzaSyAcsjeJ2lx-3z7kZNyub7vmqNaiVwuzYEk\",authDomain:\"instagram-clone-chentang.firebaseapp.com\",databaseURL:\"https://instagram-clone-chentang-default-rtdb.firebaseio.com\",projectId:\"instagram-clone-chentang\",storageBucket:\"instagram-clone-chentang.appspot.com\",messagingSenderId:\"661521370201\",appId:\"1:661521370201:web:c0dab3853381512153b548\",measurementId:\"G-YG12EBT28Y\"});var db=firebaseApp.firestore();var auth=index_esm[\"a\" /* default */].auth();var storage=index_esm[\"a\" /* default */].storage();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/Post.js\nfunction Post_Post(_ref){var user=_ref.user,postId=_ref.postId,username=_ref.username,caption=_ref.caption,imageUrl=_ref.imageUrl;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),comments=_useState2[0],setComments=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),comment=_useState4[0],setComment=_useState4[1];Object(react[\"useEffect\"])(function(){var unsubscribe;if(postId){unsubscribe=db.collection(\"posts\").doc(postId).collection(\"comments\").orderBy('timestamp',\"desc\").onSnapshot(function(snapshot){setComments(snapshot.docs.map(function(doc){return doc.data();}));});}return function(){unsubscribe();};},[postId]);var postComment=function postComment(e){e.preventDefault();db.collection(\"posts\").doc(postId).collection(\"comments\").add({text:comment,username:user.displayName,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setComment(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{className:\"post__avatar\",alt:username,src:imageUrl// alt=\"\"\n}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:username})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"post__image\",src:imageUrl,alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"post__text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:username}),\" \",caption]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post__comments\",children:comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:comment.username}),\" \",comment.text]});})}),user&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"post__commentBox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"post__input\",type:\"text\",placeholder:\"Add a comment here\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!comment,className:\"post__button\",type:\"submit\",onClick:postComment,children:\"Post\"})]})]});}/* harmony default export */ var src_Post = (Post_Post);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Input/Input.js + 6 modules\nvar Input = __webpack_require__(94);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 7 modules\nvar Button = __webpack_require__(93);\n\n// EXTERNAL MODULE: ./src/imageUpload.css\nvar imageUpload = __webpack_require__(65);\n\n// CONCATENATED MODULE: ./src/imageUpload.js\nfunction ImageUpload(_ref){var username=_ref.username;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),progress=_useState6[0],setProgress=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),caption=_useState8[0],setCaption=_useState8[1];var handleChange=function handleChange(event){if(event.target.files[0]){setImage(event.target.files[0]);}};// visualize imageupload progress bar\nvar handleUpload=function handleUpload(){var uploadTask=storage.ref(\"images/\".concat(image.name)).put(image);uploadTask.on(\"state_changed\",function(snapshot){// progress function ...\nvar progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgress(progress);},function(error){// Error function ...\nalert(error.message);},function(){// complete function ...\nstorage.ref(\"images\").child(image.name).getDownloadURL().then(function(url){setUrl(url);// post the uploaded image inside firebase\ndb.collection(\"posts\").add({caption:caption,imageUrl:url,username:username,// make the newest upload image at the top\ntimestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});// reset the upload component\nsetProgress(0);setCaption(\"\");setImage(null);});});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"imageupload\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"progress\",{className:\"imageupload__progress\",value:progress,max:\"100\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"Enter a caption here!\",value:caption,onChange:function onChange(e){return setCaption(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"imageupload__button\",onClick:handleUpload,children:\"Upload\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});};/* harmony default export */ var src_imageUpload = (ImageUpload);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Modal/Modal.js + 9 modules\nvar Modal = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./node_modules/react-instagram-embed/es/index.js\nvar es = __webpack_require__(44);\n\n// CONCATENATED MODULE: ./src/App.js\n// import FlipMove from \"react-flip-move\";\nfunction getModalStyle(){var top=50;var left=50;return{height:\"300px\",top:\"\".concat(top,\"%\"),left:\"\".concat(left,\"%\"),transform:\"translate(-\".concat(top,\"%, -\").concat(left,\"%)\")};}var useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{paper:{position:\"absolute\",width:400,height:200,backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});function App_App(){var classes=useStyles();var _useState=Object(react[\"useState\"])(getModalStyle),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,1),modalStyle=_useState2[0];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),openSignIn=_useState8[0],setOpenSignIn=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),username=_useState10[0],setUsername=_useState10[1];var _useState11=Object(react[\"useState\"])(\"\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=Object(react[\"useState\"])(\"\"),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),password=_useState14[0],setPassword=_useState14[1];var _useState15=Object(react[\"useState\"])(null),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),user=_useState16[0],setUser=_useState16[1];Object(react[\"useEffect\"])(function(){var unsubscribe=auth.onAuthStateChanged(function(authUser){if(authUser){// user is logged in...\nconsole.log(authUser);setUser(authUser);if(authUser.displayName){// dont update username\n}else{// if we just creted someone\nreturn authUser.updateProfile({displayName:username});}}else{setUser(null);}});return function(){unsubscribe();};},[user,username]);// upload component\nObject(react[\"useEffect\"])(function(){db.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){setPosts(snapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));});},[]);var signIn=function signIn(event){event.preventDefault();auth.signInWithEmailAndPassword(email,password).catch(function(error){return alert(error.message);});setOpenSignIn(false);};var signUp=function signUp(event){event.preventDefault();auth.createUserWithEmailAndPassword(email,password).then(function(authUser){authUser.user.updateProfile({displayname:username});}).catch(function(error){return alert(error.message);});setOpen(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{open:open,onClose:function onClose(){return setOpen(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:modalStyle,className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"app__login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"username\",type:\"text\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",onClick:signUp,children:\"sign Up\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{open:openSignIn,onClose:function onClose(){return setOpenSignIn(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:modalStyle,className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"app__login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:signIn,children:\"Sign In\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app_headerImage\",src:\"https://i.pinimg.com/originals/2f/a2/77/2fa277552b620e8275a07a442ea8cd0f.png\",alt:\"\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return auth.signOut();},children:\"Logout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return setOpenSignIn(true);},children:\"Sign In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return setOpen(true);},children:\"Sign Up\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__posts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__postLeft\",children:posts.map(function(_ref){var id=_ref.id,post=_ref.post;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Post,{postId:id,user:user,username:post.username,caption:post.caption,imageUrl:post.imageUrl},id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__postsRight\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* default */],{url:\"https://www.instagram.com/p/B_uf9dmAGPw/\",maxWidth:320,hideCaption:false,containerTagName:\"div\",protocol:\"\",injectScript:true,onLoading:function onLoading(){},onSuccess:function onSuccess(){},onAfterRender:function onAfterRender(){},onFailure:function onFailure(){}})})]}),(user===null||user===void 0?void 0:user.displayName)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_imageUpload,{username:user.displayName}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Sorry, please login to upload\"})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 97)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[68,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/chentang/instagram_clone/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/chentang/instagram_clone/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/chentang/instagram_clone/node_modules/postcss-loader/src/index.js??postcss!/Users/chentang/instagram_clone/src/index.css","/Users/chentang/instagram_clone/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/chentang/instagram_clone/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/chentang/instagram_clone/node_modules/postcss-loader/src/index.js??postcss!/Users/chentang/instagram_clone/src/App.css","/Users/chentang/instagram_clone/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/chentang/instagram_clone/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/chentang/instagram_clone/node_modules/postcss-loader/src/index.js??postcss!/Users/chentang/instagram_clone/src/Post.css","/Users/chentang/instagram_clone/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/chentang/instagram_clone/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/chentang/instagram_clone/node_modules/postcss-loader/src/index.js??postcss!/Users/chentang/instagram_clone/src/imageUpload.css","/Users/chentang/instagram_clone/src/firebase.js","/Users/chentang/instagram_clone/src/Post.js","/Users/chentang/instagram_clone/src/imageUpload.js","/Users/chentang/instagram_clone/src/App.js","/Users/chentang/instagram_clone/src/reportWebVitals.js","/Users/chentang/instagram_clone/src/index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storage","Post","user","postId","username","caption","imageUrl","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","postComment","e","preventDefault","add","text","displayName","timestamp","FieldValue","serverTimestamp","target","value","ImageUpload","image","setImage","url","setUrl","progress","setProgress","setCaption","handleChange","event","files","handleUpload","uploadTask","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","then","getModalStyle","top","left","height","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","modalStyle","posts","setPosts","open","setOpen","openSignIn","setOpenSignIn","setUsername","email","setEmail","password","setPassword","setUser","onAuthStateChanged","authUser","console","log","updateProfile","id","post","signIn","signInWithEmailAndPassword","catch","signUp","createUserWithEmailAndPassword","displayname","signOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGA,GAAMA,YAAW,CAAGC,4BAAQ,CAACC,aAAT,CAAuB,CACvCC,MAAM,CAAE,yCAD+B,CAEvCC,UAAU,CAAE,0CAF2B,CAGvCC,WAAW,CAAE,8DAH0B,CAIvCC,SAAS,CAAE,0BAJ4B,CAKvCC,aAAa,CAAE,sCALwB,CAMvCC,iBAAiB,CAAE,cANoB,CAOvCC,KAAK,CAAE,2CAPgC,CAQvCC,aAAa,CAAE,cARwB,CAAvB,CAApB,CAWA,GAAMC,GAAE,CAAGX,WAAW,CAACY,SAAZ,EAAX,CACA,GAAMC,KAAI,CAAGZ,4BAAQ,CAACY,IAAT,EAAb,CACA,GAAMC,QAAO,CAAGb,4BAAQ,CAACa,OAAT,EAAhB,C;;;;;ACVA,QAASC,UAAT,MAA6D,IAA7CC,KAA6C,MAA7CA,IAA6C,CAAvCC,MAAuC,MAAvCA,MAAuC,CAA/BC,QAA+B,MAA/BA,QAA+B,CAArBC,OAAqB,MAArBA,OAAqB,CAAZC,QAAY,MAAZA,QAAY,eACzBC,yBAAQ,CAAC,EAAD,CADiB,kEAClDC,QADkD,eACxCC,WADwC,8BAE3BF,yBAAQ,CAAC,EAAD,CAFmB,mEAElDG,OAFkD,eAEzCC,UAFyC,eAGzDC,0BAAS,CAAC,UAAM,CACZ,GAAIC,YAAJ,CACA,GAAIV,MAAJ,CAAY,CACVU,WAAW,CAAGhB,EAAE,CACbiB,UADW,CACA,OADA,EAEXC,GAFW,CAEPZ,MAFO,EAGXW,UAHW,CAGA,UAHA,EAIXE,OAJW,CAIH,WAJG,CAIU,MAJV,EAKXC,UALW,CAKA,SAACC,QAAD,CAAc,CACxBT,WAAW,CAACS,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACL,GAAD,QAASA,IAAG,CAACM,IAAJ,EAAT,EAAlB,CAAD,CAAX,CACD,CAPW,CAAd,CAQD,CACD,MAAO,WAAM,CACXR,WAAW,GACZ,CAFD,CAGD,CAfM,CAeJ,CAACV,MAAD,CAfI,CAAT,CAiBE,GAAMmB,YAAW,CAAG,QAAdA,YAAc,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA3B,EAAE,CAACiB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BZ,MAA3B,EAAmCW,UAAnC,CAA8C,UAA9C,EAA0DW,GAA1D,CAA8D,CAC5DC,IAAI,CAAEhB,OADsD,CAE5DN,QAAQ,CAAEF,IAAI,CAACyB,WAF6C,CAG5DC,SAAS,CAACzC,4BAAQ,CAACW,SAAT,CAAmB+B,UAAnB,CAA8BC,eAA9B,EAHkD,CAA9D,EAKAnB,UAAU,CAAC,EAAD,CAAV,CACD,CARD,CAUF,mBACI,mCAAK,SAAS,CAAC,MAAf,wBACI,mCAAK,SAAS,CAAC,cAAf,wBACI,2BAAC,yBAAD,EACI,SAAS,CAAC,cADd,CAEI,GAAG,CAAEP,QAFT,CAGI,GAAG,CAAEE,QACT;AAJA,EADJ,cAQI,0CAAKF,QAAL,EARJ,GADJ,cAYI,kCAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEE,QAAlC,CAA4C,GAAG,CAAC,EAAhD,EAZJ,cAcI,kCAAI,SAAS,CAAC,YAAd,wBAA2B,8CAASF,QAAT,EAA3B,KAAwDC,OAAxD,GAdJ,cAgBI,kCAAK,SAAS,CAAC,gBAAf,UACKG,QAAQ,CAACY,GAAT,CAAa,SAACV,OAAD,qBACV,wDACI,yCAAIA,OAAO,CAACN,QAAZ,EADJ,KAC+BM,OAAO,CAACgB,IADvC,GADU,EAAb,CADL,EAhBJ,CAwBKxB,IAAI,eACA,oCAAM,SAAS,CAAC,kBAAhB,wBACA,oCACI,SAAS,CAAC,aADd,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,oBAHhB,CAII,KAAK,CAAEQ,OAJX,CAKI,QAAQ,CAAE,kBAACa,CAAD,QAAOZ,WAAU,CAACY,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAjB,EALd,EADA,cAQA,qCACI,QAAQ,CAAE,CAACtB,OADf,CAEI,SAAS,CAAC,cAFd,CAGI,IAAI,CAAC,QAHT,CAII,OAAO,CAAEY,WAJb,kBARA,GAzBT,GADJ,CA8CH,CAEcrB,sDAAf,E;;;;;;;;;;;AC9EA,QAASgC,YAAT,MAAmC,IAAZ7B,SAAY,MAAZA,QAAY,eACLG,yBAAQ,CAAC,IAAD,CADH,kEACxB2B,KADwB,eACjBC,QADiB,8BAET5B,yBAAQ,CAAC,EAAD,CAFC,mEAExB6B,GAFwB,eAEnBC,MAFmB,8BAGC9B,yBAAQ,CAAC,CAAD,CAHT,mEAGxB+B,QAHwB,eAGdC,WAHc,8BAIDhC,yBAAQ,CAAC,EAAD,CAJP,mEAIxBF,OAJwB,eAIfmC,UAJe,eAM/B,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,GAAIA,KAAK,CAACX,MAAN,CAAaY,KAAb,CAAmB,CAAnB,CAAJ,CAA2B,CACvBR,QAAQ,CAACO,KAAK,CAACX,MAAN,CAAaY,KAAb,CAAmB,CAAnB,CAAD,CAAR,CACH,CACJ,CAJD,CAMA;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvB,GAAMC,WAAU,CAAG7C,OAAO,CAAC8C,GAAR,kBAAsBZ,KAAK,CAACa,IAA5B,GAAoCC,GAApC,CAAwCd,KAAxC,CAAnB,CACAW,UAAU,CAACI,EAAX,CACI,eADJ,CAEI,SAAC/B,QAAD,CAAc,CACV;AACA,GAAMoB,SAAQ,CAAGY,IAAI,CAACC,KAAL,CACZjC,QAAQ,CAACkC,gBAAT,CAA4BlC,QAAQ,CAACmC,UAAtC,CAAoD,GADvC,CAAjB,CAGAd,WAAW,CAACD,QAAD,CAAX,CACH,CARL,CASI,SAACgB,KAAD,CAAW,CACP;AACAC,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL,CACH,CAZL,CAaI,UAAM,CACF;AACAxD,OAAO,CACF8C,GADL,CACS,QADT,EAEKW,KAFL,CAEWvB,KAAK,CAACa,IAFjB,EAGKW,cAHL,GAIKC,IAJL,CAIU,SAACvB,GAAD,CAAS,CACXC,MAAM,CAACD,GAAD,CAAN,CAEA;AACAvC,EAAE,CAACiB,UAAH,CAAc,OAAd,EAAuBW,GAAvB,CAA2B,CACvBpB,OAAO,CAAEA,OADc,CAEvBC,QAAQ,CAAE8B,GAFa,CAGvBhC,QAAQ,CAAEA,QAHa,CAIvB;AACAwB,SAAS,CAAEzC,4BAAQ,CAACW,SAAT,CAAmB+B,UAAnB,CAA8BC,eAA9B,EALY,CAA3B,EAQA;AACAS,WAAW,CAAC,CAAD,CAAX,CACAC,UAAU,CAAC,EAAD,CAAV,CACAL,QAAQ,CAAC,IAAD,CAAR,CACH,CApBL,EAqBH,CApCL,EAsCH,CAxCD,CA0CA,mBACI,mCAAK,SAAS,CAAC,aAAf,wBACE,uCAAU,SAAS,CAAC,uBAApB,CAA4C,KAAK,CAAEG,QAAnD,CAA6D,GAAG,CAAC,KAAjE,EADF,cAEE,2BAAC,wBAAD,EACE,WAAW,CAAC,uBADd,CAEE,KAAK,CAAEjC,OAFT,CAGE,QAAQ,CAAE,kBAACkB,CAAD,QAAOiB,WAAU,CAACjB,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAjB,EAHZ,EAFF,cAOE,0DACE,oCAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAES,YAA7B,EADF,cAEE,2BAAC,yBAAD,EAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAEG,YAAjD,oBAFF,GAPF,cAcE,mCAdF,GADJ,CAkBH,EAEcX,+DAAf,E;;;;;;;;;;;ACzEA;AAKA,QAAS2B,cAAT,EAAyB,CACvB,GAAMC,IAAG,CAAG,EAAZ,CACA,GAAMC,KAAI,CAAG,EAAb,CAEA,MAAO,CACLC,MAAM,CAAE,OADH,CAELF,GAAG,WAAKA,GAAL,KAFE,CAGLC,IAAI,WAAKA,IAAL,KAHC,CAILE,SAAS,sBAAgBH,GAAhB,gBAA0BC,IAA1B,MAJJ,CAAP,CAMD,CAED,GAAMG,UAAS,CAAGC,qCAAU,CAAC,SAACC,KAAD,QAAY,CACvCC,KAAK,CAAE,CACLC,QAAQ,CAAE,UADL,CAELC,KAAK,CAAE,GAFF,CAGLP,MAAM,CAAE,GAHH,CAILQ,eAAe,CAAEJ,KAAK,CAACK,OAAN,CAAcC,UAAd,CAAyBL,KAJrC,CAKLM,MAAM,CAAE,gBALH,CAMLC,SAAS,CAAER,KAAK,CAACS,OAAN,CAAc,CAAd,CANN,CAOLC,OAAO,CAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CAPJ,CADgC,CAAZ,EAAD,CAA5B,CAYA,QAASC,QAAT,EAAe,CACb,GAAMC,QAAO,CAAGf,SAAS,EAAzB,CADa,cAEQ1D,yBAAQ,CAACqD,aAAD,CAFhB,kEAENqB,UAFM,8BAGa1E,yBAAQ,CAAC,EAAD,CAHrB,mEAGN2E,KAHM,eAGCC,QAHD,8BAIW5E,yBAAQ,CAAC,KAAD,CAJnB,mEAIN6E,IAJM,eAIAC,OAJA,8BAKuB9E,yBAAQ,CAAC,KAAD,CAL/B,mEAKN+E,UALM,eAKMC,aALN,8BAMmBhF,yBAAQ,CAAC,EAAD,CAN3B,oEAMNH,QANM,gBAMIoF,WANJ,gCAOajF,yBAAQ,CAAC,EAAD,CAPrB,qEAONkF,KAPM,gBAOCC,QAPD,gCAQmBnF,yBAAQ,CAAC,EAAD,CAR3B,qEAQNoF,QARM,gBAQIC,WARJ,gCASWrF,yBAAQ,CAAC,IAAD,CATnB,qEASNL,IATM,gBASA2F,OATA,gBAWbjF,0BAAS,CAAC,UAAM,CACd,GAAMC,YAAW,CAAGd,IAAI,CAAC+F,kBAAL,CAAwB,SAACC,QAAD,CAAc,CACxD,GAAIA,QAAJ,CAAc,CACZ;AACAC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAF,OAAO,CAACE,QAAD,CAAP,CAEA,GAAIA,QAAQ,CAACpE,WAAb,CAA0B,CACxB;AACD,CAFD,IAEO,CACL;AACA,MAAOoE,SAAQ,CAACG,aAAT,CAAuB,CAC5BvE,WAAW,CAAEvB,QADe,CAAvB,CAAP,CAGD,CACF,CAbD,IAaO,CACLyF,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CAjBmB,CAApB,CAmBA,MAAO,WAAM,CACXhF,WAAW,GACZ,CAFD,CAGD,CAvBQ,CAuBN,CAACX,IAAD,CAAOE,QAAP,CAvBM,CAAT,CAyBA;AACAQ,0BAAS,CAAC,UAAM,CACdf,EAAE,CAACiB,UAAH,CAAc,OAAd,EACGE,OADH,CACW,WADX,CACwB,MADxB,EAEGC,UAFH,CAEc,SAAAC,QAAQ,CAAI,CACtBiE,QAAQ,CAACjE,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAL,GAAG,QAAK,CACjCoF,EAAE,CAAEpF,GAAG,CAACoF,EADyB,CAEjCC,IAAI,CAAErF,GAAG,CAACM,IAAJ,EAF2B,CAAL,EAArB,CAAD,CAAR,CAID,CAPH,EAQD,CATQ,CASN,EATM,CAAT,CAWA,GAAMgF,OAAM,CAAG,QAATA,OAAS,CAAC3D,KAAD,CAAW,CACxBA,KAAK,CAAClB,cAAN,GACAzB,IAAI,CACDuG,0BADH,CAC8Bb,KAD9B,CACqCE,QADrC,EAEGY,KAFH,CAES,SAACjD,KAAD,QAAWC,MAAK,CAACD,KAAK,CAACE,OAAP,CAAhB,EAFT,EAIA+B,aAAa,CAAC,KAAD,CAAb,CACD,CAPD,CASA,GAAMiB,OAAM,CAAG,QAATA,OAAS,CAAC9D,KAAD,CAAW,CACxBA,KAAK,CAAClB,cAAN,GACAzB,IAAI,CACD0G,8BADH,CACkChB,KADlC,CACyCE,QADzC,EAEGhC,IAFH,CAEQ,SAACoC,QAAD,CAAc,CAClBA,QAAQ,CAAC7F,IAAT,CAAcgG,aAAd,CAA4B,CAC1BQ,WAAW,CAAEtG,QADa,CAA5B,EAGD,CANH,EAOGmG,KAPH,CAOS,SAACjD,KAAD,QAAWC,MAAK,CAACD,KAAK,CAACE,OAAP,CAAhB,EAPT,EAQA6B,OAAO,CAAC,KAAD,CAAP,CACD,CAXD,CAaA,mBACE,mCAAK,SAAS,CAAC,KAAf,wBAGE,2BAAC,wBAAD,EAAO,IAAI,CAAED,IAAb,CACE,OAAO,CAAE,yBAAMC,QAAO,CAAC,KAAD,CAAb,EADX,uBAGE,kCAAK,KAAK,CAAEJ,UAAZ,CAAwB,SAAS,CAAED,OAAO,CAACZ,KAA3C,uBACE,oCAAM,SAAS,CAAC,YAAhB,wBACE,2DACE,kCACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAC,uFAFN,CAGE,GAAG,CAAC,EAHN,EADF,EADF,cAQE,2BAAC,wBAAD,EACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEhE,QAHT,CAIE,QAAQ,CAAE,kBAACsC,KAAD,QAAW8C,YAAW,CAAC9C,KAAK,CAACX,MAAN,CAAaC,KAAd,CAAtB,EAJZ,EARF,cAcE,2BAAC,wBAAD,EACE,WAAW,CAAC,OADd,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEyD,KAHT,CAIE,QAAQ,CAAE,kBAAC/C,KAAD,QAAWgD,SAAQ,CAAChD,KAAK,CAACX,MAAN,CAAaC,KAAd,CAAnB,EAJZ,EAdF,cAoBE,2BAAC,wBAAD,EACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE2D,QAHT,CAIE,QAAQ,CAAE,kBAACjD,KAAD,QAAWkD,YAAW,CAAClD,KAAK,CAACX,MAAN,CAAaC,KAAd,CAAtB,EAJZ,EApBF,cA2BE,2BAAC,yBAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEwE,MAA/B,qBA3BF,GADF,EAHF,EAHF,cAwCE,2BAAC,wBAAD,EAAO,IAAI,CAAElB,UAAb,CACE,OAAO,CAAE,yBAAMC,cAAa,CAAC,KAAD,CAAnB,EADX,uBAGE,kCAAK,KAAK,CAAEN,UAAZ,CAAwB,SAAS,CAAED,OAAO,CAACZ,KAA3C,uBACE,oCAAM,SAAS,CAAC,YAAhB,wBACE,2DACE,kCACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAC,uFAFN,CAGE,GAAG,CAAC,EAHN,EADF,EADF,cAQE,2BAAC,wBAAD,EACE,WAAW,CAAC,OADd,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEqB,KAHT,CAIE,QAAQ,CAAE,kBAAC/C,KAAD,QAAWgD,SAAQ,CAAChD,KAAK,CAACX,MAAN,CAAaC,KAAd,CAAnB,EAJZ,EARF,cAcE,2BAAC,wBAAD,EACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE2D,QAHT,CAIE,QAAQ,CAAE,kBAACjD,KAAD,QAAWkD,YAAW,CAAClD,KAAK,CAACX,MAAN,CAAaC,KAAd,CAAtB,EAJZ,EAdF,cAoBE,2BAAC,yBAAD,EAAQ,OAAO,CAAEqE,MAAjB,qBApBF,GADF,EAHF,EAxCF,cAqEE,mCAAK,SAAS,CAAC,aAAf,wBACE,kCACE,SAAS,CAAC,iBADZ,CAEE,GAAG,CAAC,8EAFN,CAGE,GAAG,CAAC,EAHN,EADF,CAMGnG,IAAI,cACH,2BAAC,yBAAD,EAAQ,OAAO,CAAE,yBAAMH,KAAI,CAAC4G,OAAL,EAAN,EAAjB,oBADG,cAGH,mCAAK,SAAS,CAAC,gBAAf,wBACE,2BAAC,yBAAD,EAAQ,OAAO,CAAE,yBAAMpB,cAAa,CAAC,IAAD,CAAnB,EAAjB,qBADF,cAEE,2BAAC,yBAAD,EAAQ,OAAO,CAAE,yBAAMF,QAAO,CAAC,IAAD,CAAb,EAAjB,qBAFF,GATJ,GArEF,cAsFE,mCAAK,SAAS,CAAC,YAAf,wBACI,kCAAK,SAAS,CAAC,eAAf,UAEAH,KAAK,CAAC9D,GAAN,CAAU,kBAAG+E,GAAH,MAAGA,EAAH,CAAOC,IAAP,MAAOA,IAAP,oBACR,2BAAC,QAAD,EACE,MAAM,CAAID,EADZ,CAEE,IAAI,CAAEjG,IAFR,CAGE,QAAQ,CAAEkG,IAAI,CAAChG,QAHjB,CAIE,OAAO,CAAEgG,IAAI,CAAC/F,OAJhB,CAKE,QAAQ,CAAE+F,IAAI,CAAC9F,QALjB,EAAW6F,EAAX,CADQ,EAAV,CAFA,EADJ,cAeI,kCAAK,SAAS,CAAC,iBAAf,uBACA,2BAAC,qBAAD,EACE,GAAG,CAAC,0CADN,CAEE,QAAQ,CAAE,GAFZ,CAGE,WAAW,CAAE,KAHf,CAIE,gBAAgB,CAAC,KAJnB,CAKE,QAAQ,CAAC,EALX,CAME,YAAY,KANd,CAOE,SAAS,CAAE,oBAAM,CAAE,CAPrB,CAQE,SAAS,CAAE,oBAAM,CAAE,CARrB,CASE,aAAa,CAAE,wBAAM,CAAE,CATzB,CAUE,SAAS,CAAE,oBAAM,CAAE,CAVrB,EADA,EAfJ,GAtFF,CAsHG,CAAAjG,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEyB,WAAN,eACC,2BAAC,eAAD,EAAa,QAAQ,CAAEzB,IAAI,CAACyB,WAA5B,EADD,cAGC,2EAzHJ,GADF,CA+HD,CAEcoD,mDAAf,E;;AC5OA,GAAM6B,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,iFAAqBnD,IAArB,CAA0B,cAAiD,IAA9CoD,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAX,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import firebase from \"firebase\";\n\n\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyAcsjeJ2lx-3z7kZNyub7vmqNaiVwuzYEk\",\n    authDomain: \"instagram-clone-chentang.firebaseapp.com\",\n    databaseURL: \"https://instagram-clone-chentang-default-rtdb.firebaseio.com\",\n    projectId: \"instagram-clone-chentang\",\n    storageBucket: \"instagram-clone-chentang.appspot.com\",\n    messagingSenderId: \"661521370201\",\n    appId: \"1:661521370201:web:c0dab3853381512153b548\",\n    measurementId: \"G-YG12EBT28Y\"\n});\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\nexport { db, auth, storage };\n","import React, { useState, useEffect } from 'react'\nimport './Post.css';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from \"./firebase\";\nimport firebase from \"firebase\";\n\nfunction Post({ user, postId, username, caption, imageUrl }) {\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState(\"\");\n    useEffect(() => {\n        let unsubscribe;\n        if (postId) {\n          unsubscribe = db\n            .collection(\"posts\")\n            .doc(postId)\n            .collection(\"comments\")\n            .orderBy('timestamp', \"desc\")\n            .onSnapshot((snapshot) => {\n              setComments(snapshot.docs.map((doc) => doc.data()));\n            });\n        }\n        return () => {\n          unsubscribe();\n        };\n      }, [postId]);\n\n      const postComment = (e) => {\n        e.preventDefault();\n        db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n          text: comment,\n          username: user.displayName,\n          timestamp:firebase.firestore.FieldValue.serverTimestamp()\n        });\n        setComment(\"\");\n      };\n\n    return (\n        <div className=\"post\">\n            <div className=\"post__header\">\n                <Avatar\n                    className=\"post__avatar\"\n                    alt={username}\n                    src={imageUrl}\n                // alt=\"\"\n                />\n\n                <h3>{username}</h3>\n            </div>\n\n            <img className=\"post__image\" src={imageUrl} alt=\"\" />\n\n            <h4 className=\"post__text\"><strong>{username}</strong> {caption}</h4>\n\n            <div className=\"post__comments\">\n                {comments.map((comment) => (\n                    <p>\n                        <b>{comment.username}</b> {comment.text}\n                    </p>\n                ))}\n            </div>\n\n            {user && (\n                 <form className=\"post__commentBox\">\n                 <input\n                     className=\"post__input\"\n                     type=\"text\"\n                     placeholder=\"Add a comment here\"\n                     value={comment}\n                     onChange={(e) => setComment(e.target.value)}\n                 />\n                 <button\n                     disabled={!comment}\n                     className=\"post__button\"\n                     type=\"submit\"\n                     onClick={postComment}\n                 >\n                     Post\n                 </button>\n             </form>\n            )}\n        </div>\n    )\n}\n\nexport default Post\n","import React, { useState } from 'react';\nimport firebase from \"firebase\";\nimport { storage, db } from \"./firebase\";\nimport { Input, Button } from \"@material-ui/core\";\nimport \"./imageUpload.css\";\n\nfunction ImageUpload({ username }) {\n    const [image, setImage] = useState(null);\n    const [url, setUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n    const [caption, setCaption] = useState('');\n\n    const handleChange = (event) => {\n        if (event.target.files[0]) {\n            setImage(event.target.files[0]);\n        }\n    };\n\n    // visualize imageupload progress bar\n    const handleUpload = () => {\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\n        uploadTask.on(\n            \"state_changed\",\n            (snapshot) => {\n                // progress function ...\n                const progress = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                setProgress(progress);\n            },\n            (error) => {\n                // Error function ...\n                alert(error.message);\n            },\n            () => {\n                // complete function ...\n                storage\n                    .ref(\"images\")\n                    .child(image.name)\n                    .getDownloadURL()\n                    .then((url) => {\n                        setUrl(url);\n\n                        // post the uploaded image inside firebase\n                        db.collection(\"posts\").add({\n                            caption: caption,\n                            imageUrl: url,\n                            username: username,\n                            // make the newest upload image at the top\n                            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                        });\n\n                        // reset the upload component\n                        setProgress(0);\n                        setCaption(\"\");\n                        setImage(null);\n                    });\n            }\n        );\n    };\n\n    return (\n        <div className=\"imageupload\">\n          <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n          <Input\n            placeholder=\"Enter a caption here!\"\n            value={caption}\n            onChange={(e) => setCaption(e.target.value)}\n          />\n          <div>\n            <input type=\"file\" onChange={handleChange} />\n            <Button className=\"imageupload__button\" onClick={handleUpload}>\n              Upload\n            </Button>\n          </div>\n    \n          <br />\n        </div>\n      );\n};\n\nexport default ImageUpload;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./Post\";\nimport ImageUpload from \"./imageUpload\";\nimport { db, auth } from \"./firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input } from \"@material-ui/core\";\n// import FlipMove from \"react-flip-move\";\nimport InstagramEmbed from \"react-instagram-embed\";\n\n\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    height: \"300px\",\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    height: 200,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        // user is logged in...\n        console.log(authUser);\n        setUser(authUser);\n\n        if (authUser.displayName) {\n          // dont update username\n        } else {\n          // if we just creted someone\n          return authUser.updateProfile({\n            displayName: username,\n          });\n        }\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  // upload component\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot(snapshot => {\n        setPosts(snapshot.docs.map(doc => ({\n          id: doc.id,\n          post: doc.data()\n        })));\n      })\n  }, []);\n\n  const signIn = (event) => {\n    event.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n\n    setOpenSignIn(false);\n  };\n\n  const signUp = (event) => {\n    event.preventDefault();\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        authUser.user.updateProfile({\n          displayname: username\n        })\n      })\n      .catch((error) => alert(error.message));\n    setOpen(false);\n  }\n\n  return (\n    <div className=\"app\">\n\n      {/* sign in */}\n      <Modal open={open}\n        onClose={() => setOpen(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__login\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n            <Input\n              placeholder=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(event) => setUsername(event.target.value)}\n            />\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(event) => setEmail(event.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(event) => setPassword(event.target.value)}\n            />\n\n            <Button type=\"submit\" onClick={signUp}>sign Up</Button>\n          </form>\n        </div>\n      </Modal>\n\n      {/* sign up */}\n      <Modal open={openSignIn}\n        onClose={() => setOpenSignIn(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__login\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(event) => setEmail(event.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(event) => setPassword(event.target.value)}\n            />\n            <Button onClick={signIn}>Sign In</Button>\n          </form>\n        </div>\n      </Modal>\n\n      <div className=\"app__header\">\n        <img\n          className=\"app_headerImage\"\n          src=\"https://i.pinimg.com/originals/2f/a2/77/2fa277552b620e8275a07a442ea8cd0f.png\"\n          alt=\"\"\n        />\n        {user ? (\n          <Button onClick={() => auth.signOut()}>Logout</Button>\n        ) : (\n          <div className=\"app__container\">\n            <Button onClick={() => setOpenSignIn(true)}>Sign In</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </div>\n        )}\n      </div>\n\n\n      <div className=\"app__posts\">\n          <div className=\"app__postLeft\">\n          {\n          posts.map(({ id, post }) => (\n            <Post key={id}\n              postId = {id}\n              user={user}\n              username={post.username}\n              caption={post.caption}\n              imageUrl={post.imageUrl}\n            />\n          ))\n        }\n          </div>\n\n          <div className=\"app__postsRight\">\n          <InstagramEmbed\n            url=\"https://www.instagram.com/p/B_uf9dmAGPw/\"\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName=\"div\"\n            protocol=\"\"\n            injectScript\n            onLoading={() => {}}\n            onSuccess={() => {}}\n            onAfterRender={() => {}}\n            onFailure={() => {}}\n          />\n        </div>\n\n      </div>\n\n      {user?.displayName ? (\n        <ImageUpload username={user.displayName} />\n      ) : (\n        <h3>Sorry, please login to upload</h3>\n      )}\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}